<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssginc.ewms.outgoing.mapper.OutgoingMapper">

    <!-- 출고 목록 조회 -->
    <select id="getOutgoingList" resultType="com.ssginc.ewms.outgoing.vo.OutgoingVO">
        SELECT
            o.outgoing_id AS outgoingId,
            o.branch_name AS branchName,
            p.product_name AS productName,
            o.outgoing_quantity AS outgoingQuantity,
            p.outgoing_price AS unitPrice,
            (o.outgoing_quantity * p.outgoing_price) AS totalPrice,
            o.outgoing_status AS outgoingStatus,
            o.outgoing_date AS outgoingDate
        FROM outgoing o
                 JOIN product p ON o.product_id = p.product_id
    </select>

    <select id="selectByDateRange" resultType="com.ssginc.ewms.outgoing.vo.OutgoingVO">
        SELECT
            o.outgoing_id AS outgoingId,
            o.branch_name AS branchName,
            p.product_name AS productName,
            o.outgoing_quantity AS outgoingQuantity,
            p.outgoing_price AS unitPrice,
            (o.outgoing_quantity * p.outgoing_price) AS totalPrice,
            o.outgoing_status AS outgoingStatus,
            o.outgoing_date AS outgoingDate
        FROM outgoing o
                 JOIN product p ON o.product_id = p.product_id
        WHERE o.outgoing_date BETWEEN #{startDate} AND #{endDate}
    </select>

</mapper>