<!DOCTYPE html>
<html lang="ko"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-WMS Dashboard</title>
    <link rel="stylesheet" href="/css/dashboard/dashboard.css">

</head>
<body>
<div layout:fragment="content">
    <div class="dashboard-container">

        <!-- Summary Cards -->
        <div class="dashboard-header cards-container">
            <div class="card">
                <div class="card-wrapper flex flex-row">
                    <h2 style="color: #FBC66C;">3432+</h2>
                    <svg width="41" height="40" viewBox="0 0 41 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="0.26001" width="40" height="40" rx="20" fill="#FBC66C"/>
                        <g clip-path="url(#clip0_124_1219)">
                            <path d="M31.7914 26.8571L32.2601 31.0491C32.2869 31.2991 32.2155 31.5223 32.0458 31.7188C31.8762 31.9062 31.6619 32 31.403 32H9.11726C8.85833 32 8.64405 31.9062 8.4744 31.7188C8.30476 31.5223 8.23333 31.2991 8.26012 31.0491L8.72887 26.8571H31.7914ZM30.5458 15.6205L31.6976 26H8.82262L9.9744 15.6205C10.0012 15.4062 10.0949 15.2254 10.2557 15.0781C10.4164 14.9308 10.6083 14.8571 10.8315 14.8571H14.2601V16.5714C14.2601 17.0446 14.4275 17.4487 14.7624 17.7835C15.0972 18.1183 15.5012 18.2857 15.9744 18.2857C16.4476 18.2857 16.8516 18.1183 17.1865 17.7835C17.5213 17.4487 17.6887 17.0446 17.6887 16.5714V14.8571H22.8315V16.5714C22.8315 17.0446 22.999 17.4487 23.3338 17.7835C23.6686 18.1183 24.0726 18.2857 24.5458 18.2857C25.019 18.2857 25.4231 18.1183 25.7579 17.7835C26.0927 17.4487 26.2601 17.0446 26.2601 16.5714V14.8571H29.6887C29.9119 14.8571 30.1039 14.9308 30.2646 15.0781C30.4253 15.2254 30.519 15.4062 30.5458 15.6205ZM25.403 13.1429V16.5714C25.403 16.8036 25.3182 17.0045 25.1485 17.1741C24.9789 17.3438 24.778 17.4286 24.5458 17.4286C24.3137 17.4286 24.1128 17.3438 23.9432 17.1741C23.7735 17.0045 23.6887 16.8036 23.6887 16.5714V13.1429C23.6887 12.1964 23.3539 11.3884 22.6842 10.7188C22.0146 10.0491 21.2065 9.71428 20.2601 9.71428C19.3137 9.71428 18.5057 10.0491 17.836 10.7188C17.1664 11.3884 16.8315 12.1964 16.8315 13.1429V16.5714C16.8315 16.8036 16.7467 17.0045 16.5771 17.1741C16.4074 17.3438 16.2065 17.4286 15.9744 17.4286C15.7423 17.4286 15.5414 17.3438 15.3717 17.1741C15.2021 17.0045 15.1173 16.8036 15.1173 16.5714V13.1429C15.1173 11.7232 15.6195 10.5112 16.624 9.5067C17.6284 8.50223 18.8405 8 20.2601 8C21.6798 8 22.8918 8.50223 23.8963 9.5067C24.9007 10.5112 25.403 11.7232 25.403 13.1429Z"
                                  fill="white"/>
                        </g>
                        <defs>
                            <clipPath id="clip0_124_1219">
                                <rect width="24" height="24" fill="white" transform="matrix(1 0 0 -1 8.26001 32)"/>
                            </clipPath>
                        </defs>
                    </svg>
                </div>
                <p>입고 예정</p>
            </div>
            <div class="card">
                <div class="card-wrapper flex flex-row">
                    <h2 style="color: #FB5EA8;">2453-</h2>
                    <svg width="41" height="40" viewBox="0 0 41 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="0.5" width="40" height="40" rx="20" fill="#FB5EA8"/>
                        <path d="M13.884 17.4687L20.5 21.5535L15.9197 25.3705L9.35718 21.0981L13.884 17.4687ZM27.0893 24.9017V26.3481L20.5268 30.2723V30.2856L20.5134 30.2723L20.5 30.2856V30.2723L13.9509 26.3481V24.9017L15.9197 26.1874L20.5 22.3839V22.3571L20.5134 22.3705L20.5268 22.3571V22.3839L25.1206 26.1874L27.0893 24.9017ZM15.9197 9.58029L20.5 13.3973L13.884 17.4687L9.35718 13.8526L15.9197 9.58029ZM27.1161 17.4687L31.6429 21.0981L25.0938 25.3705L20.5 21.5535L27.1161 17.4687ZM25.0938 9.58029L31.6429 13.8526L27.1161 17.4687L20.5 13.3973L25.0938 9.58029Z"
                              fill="white"/>
                    </svg>
                </div>
                <p>출고 예정</p>
            </div>
            <div class="card">
                <div class="card-wrapper flex flex-row">
                    <h2 style="color: #A45FF8;">$532k</h2>
                    <svg width="41" height="40" viewBox="0 0 41 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="0.72998" width="40" height="40" rx="20" fill="#A45FF8"/>
                        <g clip-path="url(#clip0_124_1225)">
                            <path d="M26.9806 23.8705C26.9806 25.2366 26.5361 26.4129 25.6471 27.3996C24.758 28.3862 23.6032 28.9955 22.1825 29.2277V31.5714C22.1825 31.6964 22.1423 31.7991 22.0619 31.8795C21.9815 31.9598 21.8787 32 21.7536 32H19.9443C19.8281 32 19.7276 31.9576 19.6427 31.8728C19.5578 31.7879 19.5154 31.6875 19.5154 31.5714V29.2277C18.9257 29.1473 18.3561 29.0089 17.8066 28.8125C17.257 28.6161 16.8036 28.4174 16.4462 28.2165C16.0888 28.0156 15.7582 27.8013 15.4544 27.5737C15.1506 27.346 14.9429 27.1786 14.8312 27.0714C14.7195 26.9643 14.6413 26.8839 14.5966 26.8304C14.4447 26.6429 14.4358 26.4598 14.5698 26.2812L15.9503 24.4732C16.0128 24.3839 16.1156 24.3304 16.2586 24.3125C16.3926 24.2946 16.4998 24.3348 16.5802 24.433C16.5802 24.433 16.5892 24.442 16.607 24.4598C17.6167 25.3438 18.7023 25.9018 19.8639 26.1339C20.1945 26.2054 20.5251 26.2411 20.8557 26.2411C21.5794 26.2411 22.216 26.0491 22.7655 25.6652C23.315 25.2812 23.5898 24.7366 23.5898 24.0312C23.5898 23.7812 23.5228 23.5446 23.3887 23.3214C23.2547 23.0982 23.1051 22.9107 22.9398 22.7589C22.7745 22.6071 22.5131 22.4397 22.1557 22.2567C21.7983 22.0737 21.5034 21.9308 21.2711 21.8281C21.0388 21.7254 20.6814 21.5804 20.1989 21.3929C19.8505 21.25 19.5757 21.1384 19.3747 21.058C19.1736 20.9777 18.8989 20.8594 18.5504 20.7031C18.2019 20.5469 17.9227 20.4085 17.7127 20.2879C17.5028 20.1674 17.2503 20.0089 16.9555 19.8125C16.6606 19.6161 16.4216 19.4263 16.2384 19.2433C16.0553 19.0603 15.8609 18.8415 15.6554 18.5871C15.4499 18.3326 15.2913 18.0737 15.1796 17.8103C15.068 17.5469 14.9741 17.25 14.8982 16.9196C14.8222 16.5893 14.7843 16.2411 14.7843 15.875C14.7843 14.6429 15.2221 13.5625 16.0977 12.6339C16.9734 11.7054 18.1126 11.1071 19.5154 10.8393V8.42857C19.5154 8.3125 19.5578 8.21205 19.6427 8.12723C19.7276 8.04241 19.8281 8 19.9443 8H21.7536C21.8787 8 21.9815 8.04018 22.0619 8.12053C22.1423 8.20089 22.1825 8.30357 22.1825 8.42857V10.7857C22.6918 10.8393 23.1855 10.942 23.6635 11.0938C24.1415 11.2455 24.5302 11.3951 24.8295 11.5424C25.1289 11.6897 25.4125 11.8571 25.6806 12.0446C25.9486 12.2321 26.1229 12.3616 26.2033 12.433C26.2837 12.5045 26.3507 12.567 26.4043 12.6205C26.5562 12.7812 26.5786 12.9509 26.4713 13.1295L25.3857 15.0848C25.3143 15.2188 25.2115 15.2902 25.0775 15.2991C24.9524 15.3259 24.8318 15.2946 24.7156 15.2054C24.6888 15.1786 24.624 15.125 24.5213 15.0446C24.4185 14.9643 24.2443 14.846 23.9986 14.6897C23.7529 14.5335 23.4915 14.3906 23.2145 14.2612C22.9375 14.1317 22.6047 14.0156 22.216 13.9129C21.8273 13.8103 21.4454 13.7589 21.0701 13.7589C20.2213 13.7589 19.5288 13.9509 18.9927 14.3348C18.4566 14.7188 18.1885 15.2143 18.1885 15.8214C18.1885 16.0536 18.2265 16.2679 18.3025 16.4643C18.3784 16.6607 18.5102 16.846 18.6978 17.0201C18.8855 17.1942 19.0619 17.3415 19.2272 17.4621C19.3925 17.5826 19.6427 17.721 19.9778 17.8772C20.3128 18.0335 20.5831 18.154 20.7886 18.2388C20.9941 18.3237 21.3069 18.4464 21.7268 18.6071C22.2004 18.7857 22.5623 18.9263 22.8124 19.029C23.0626 19.1317 23.4021 19.2879 23.831 19.4978C24.2599 19.7076 24.5972 19.8973 24.8429 20.067C25.0886 20.2366 25.3656 20.4598 25.6739 20.7366C25.9822 21.0134 26.2189 21.2969 26.3842 21.5871C26.5495 21.8772 26.6903 22.2188 26.8064 22.6116C26.9226 23.0045 26.9806 23.4241 26.9806 23.8705Z"
                                  fill="white"/>
                        </g>
                        <defs>
                            <clipPath id="clip0_124_1225">
                                <rect width="13.73" height="24" fill="white" transform="matrix(1 0 0 -1 13.87 32)"/>
                            </clipPath>
                        </defs>
                    </svg>
                </div>
                <p>Total Sales</p>
            </div>
            <div class="card">
                <div class="card-wrapper flex flex-row">
                    <h2 style="color: #6CBBFA;">10+</h2>
                    <svg width="41" height="40" viewBox="0 0 41 40" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect x="0.97998" width="40" height="40" rx="20" fill="#6CBBFA"/>
                        <g clip-path="url(#clip0_124_1213)">
                            <path d="M24.3951 20.857H28.6273C28.6183 20.8302 28.6072 20.7923 28.5938 20.7432C28.5804 20.6941 28.5692 20.6606 28.5603 20.6427L25.721 13.9999H16.2389L13.3996 20.6427C13.3906 20.6695 13.3795 20.7075 13.3661 20.7566C13.3527 20.8057 13.3415 20.8391 13.3326 20.857H17.5647L18.8371 23.4284H23.1228L24.3951 20.857ZM31.2656 21.2588V27.7141C31.2656 27.9463 31.1808 28.1472 31.0112 28.3168C30.8415 28.4865 30.6406 28.5713 30.4085 28.5713H11.5514C11.3192 28.5713 11.1183 28.4865 10.9487 28.3168C10.779 28.1472 10.6942 27.9463 10.6942 27.7141V21.2588C10.6942 20.7052 10.8058 20.1561 11.029 19.6115L14.2165 12.2186C14.3058 11.9954 14.4688 11.8079 14.7054 11.6561C14.942 11.5043 15.1764 11.4284 15.4085 11.4284H26.5514C26.7835 11.4284 27.0179 11.5043 27.2545 11.6561C27.4911 11.8079 27.654 11.9954 27.7433 12.2186L30.9308 19.6115C31.154 20.1561 31.2656 20.7052 31.2656 21.2588Z"
                                  fill="white"/>
                        </g>
                        <defs>
                            <clipPath id="clip0_124_1213">
                                <rect width="20.58" height="24" fill="white" transform="matrix(1 0 0 -1 10.6899 32)"/>
                            </clipPath>
                        </defs>
                    </svg>
                </div>
                <p>Total Shelves</p>
            </div>
        </div>

        <!-- Charts and Sections -->
        <div class="dashboard-top">
            <!-- 입출고 분석 차트 -->
            <div class="chart-container">
                <div class="chart-contents flex flex-col">
                    <canvas id="line-chart"></canvas>
                    <div class="controls flex flex-row">
                        <div>
                            <label for="show-select">Show</label>
                            <select id="show-select">
                                <option name="show-select" value="income">입고량</option>
                                <option name="show-select" value="outgoing">출고량</option>
                            </select>
                        </div>
                        <div>
                            <label for="short-by-select">ShortBy</label>
                            <select id="short-by-select">
                                <option name="short-by-select" value="daily">일자별</option>
                                <option name="short-by-select" value="monthly">월별</option>
                                <option name="short-by-select" value="yearly">연간</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 섹션 사용률 -->
            <div class="sections-container flex flex-col">
                <h3>Section 사용률</h3>
                <ul>
                    <li th:each="sector : ${session.sectors}">
                        <span th:text="'Section ' + ${sector.sectorName}"></span>
                        <span class="used">Used</span>
                        <!-- 사용률 바 -->
                        <div class="bar">
                            <!-- 0% ~ 50% -->
                            <div th:if="${sector.usageRatePercentage} <= 50"
                                 th:style="|width: ${sector.usageRatePercentage}%; background-color: #FFC107;|">
                            </div>
                            <!-- 51% ~ 75% -->
                            <div th:if="${sector.usageRatePercentage} > 50 and ${sector.usageRatePercentage} <= 75"
                                 th:style="|width: ${sector.usageRatePercentage}%; background-color: #FF9800;|">
                            </div>
                            <!-- 76% ~ 100% -->
                            <div th:if="${sector.usageRatePercentage} > 75 and ${sector.usageRatePercentage} <= 100"
                                 th:style="|width: ${sector.usageRatePercentage}%; background-color: #F44336;|">
                            </div>
                            <!-- 101% 이상 -->
                            <div th:if="${sector.usageRatePercentage} > 100"
                                 th:style="|width: 100%; background-color: #D32F2F;|">
                            </div>
                        </div>
                        <span th:text="${sector.usageRatePercentage > 100 ? '100%' : sector.usageRatePercentage + '%'}"></span>
                    </li>
                </ul>
            </div>
            <!-- Weather Information -->
            <div class="weather-card">
                <p style="font-size: 15px;">오후</p>
                <div class="temp flex flex-row align-center">
                    <img src="/img/dashboard/weather/sunnyDay.png" alt="">
                    <span id="degree"></span>°
                </div>
                <div class="flex flex-col align-center" style="gap: 15px;">
                    <p id="description" style="font-size: 20px;"></p>
                    <div style="font-size: 14px;">
                        <span style="color: #77777A;">강수확률</span>
                        <span id="humidity" style="color: #000;"></span>%
                    </div>
                    <div class="buttons">
                        <div>
                            오전미세
                            <p>좋음</p>
                        </div>
                        <div>
                            오전초미세
                            <p>좋음</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 출고 배송 현황과 출고 지점 -->
        <div class="dashboard-bottom flex flex-row align-center">

            <!-- 출고 배송 현황 표 -->
            <div class="shipping-table">
                <h3>출고 배송 현황</h3>
                <table>
                    <tbody>
                    <tr>
                        <td>1234</td>
                        <td>05-12-2021</td>
                        <td>강남점</td>
                        <td><span class="status shipping">Shipping</span></td>
                        <td>&#8361;1,230,000</td>
                        <td>
                            <div class="bar bar-shipping">
                                <div style="width: 60%;"></div>
                            </div>
                            <span>1H</span>
                        </td>
                    </tr>
                    <tr>
                        <td>1234</td>
                        <td>05-12-2021</td>
                        <td>경기광주점</td>
                        <td><span class="status shipping">Shipping</span></td>
                        <td>&#8361;1,356,000</td>
                        <td>
                            <div class="bar bar-shipping">
                                <div style="width: 20%;"></div>
                            </div>
                            <span>2H10m</span>
                        </td>
                    </tr>
                    <tr>
                        <td>1234</td>
                        <td>05-12-2021</td>
                        <td>광교점</td>
                        <td><span class="status shipping">Shipping</span></td>
                        <td>&#8361;2,534,000</td>
                        <td>
                            <div class="bar bar-shipping">
                                <div style="width: 40%;"></div>
                            </div>
                            <span>1H</span>
                        </td>
                    </tr>
                    <tr>
                        <td>1234</td>
                        <td>05-12-2021</td>
                        <td>김포한강점</td>
                        <td><span class="status shipping">Shipping</span></td>
                        <td>&#8361;670,000</td>
                        <td>
                            <div class="bar bar-shipping">
                                <div style="width: 50%;"></div>
                            </div>
                            <span>2H</span>
                        </td>
                    </tr>
                    <tr>
                        <td>1234</td>
                        <td>05-12-2021</td>
                        <td>다산점</td>
                        <td><span class="status shipping">Shipping</span></td>
                        <td>&#8361;1,521,000</td>
                        <td>
                            <div class="bar bar-shipping">
                                <div style="width: 80%;"></div>
                            </div>
                            <span>1H20m</span>
                        </td>
                    </tr>
                    <tr>
                        <td>1234</td>
                        <td>05-12-2021</td>
                        <td>부천점</td>
                        <td><span class="status shipping">Shipping</span></td>
                        <td>&#8361;1,115,000</td>
                        <td>
                            <div class="bar bar-shipping">
                                <div style="width: 90%;"></div>
                            </div>
                            <span>3H</span>
                        </td>
                    </tr>
                    <tr>
                        <td>1234</td>
                        <td>05-12-2021</td>
                        <td>안산고잔점</td>
                        <td><span class="status shipping">Shipping</span></td>
                        <td>&#8361;1,086,000</td>
                        <td>
                            <div class="bar bar-shipping">
                                <div style="width: 30%;"></div>
                            </div>
                            <span>1H20m</span>
                        </td>
                    </tr>
                    <tr>
                        <td>1234</td>
                        <td>05-12-2021</td>
                        <td>양주점</td>
                        <td><span class="status shipping">Shipping</span></td>
                        <td>&#8361;1,789,000</td>
                        <td>
                            <div class="bar bar-shipping">
                                <div style="width: 20%;"></div>
                            </div>
                            <span>3H</span>
                        </td>
                    </tr>
                    <tr>
                        <td>1234</td>
                        <td>05-12-2021</td>
                        <td>하남점</td>
                        <td><span class="status shipping">Shipping</span></td>
                        <td>&#8361;1,123,000</td>
                        <td>
                            <div class="bar bar-shipping">
                                <div style="width: 80%;"></div>
                            </div>
                            <span>2H</span>
                        </td>
                    </tr>
                    <tr>
                        <td>1234</td>
                        <td>05-12-2021</td>
                        <td>파주점</td>
                        <td><span class="status shipping">Shipping</span></td>
                        <td>&#8361;1,791,000</td>
                        <td>
                            <div class="bar bar-shipping">
                                <div style="width: 90%;"></div>
                            </div>
                            <span>30m</span>
                        </td>
                    </tr>
                    <tr>
                        <td>1234</td>
                        <td>05-12-2021</td>
                        <td>화정점</td>
                        <td><span class="status shipping">Shipping</span></td>
                        <td>&#8361;1,631,000</td>
                        <td>
                            <div class="bar bar-shipping">
                                <div style="width: 70%;"></div>
                            </div>
                            <span>1H</span>
                        </td>
                    </tr>
                    <!-- Add more rows as needed -->
                    </tbody>
                </table>
            </div>

            <!-- 출고 지정 바 차트 -->
            <div class="chart-container" style="width: 30%">
                <h3>최다 출고 지점</h3>
                <canvas id="shipment-bar-chart"></canvas>
                <div class="controls flex flex-row">
                    <div>
                        <label for="short-by-select">ShortBy</label>
                        <select id="year-select">
                            <option value="2025">2025</option>
                            <option value="2024">2024</option>
                            <option value="2023">2023</option>
                        </select>
                        <select id="month-select">
                            <option value="">월 전체</option>
                            <option value="01">1월</option>
                            <option value="02">2월</option>
                            <option value="03">3월</option>
                            <option value="03">4월</option>
                            <option value="03">5월</option>
                            <option value="03">6월</option>
                            <option value="03">7월</option>
                            <option value="03">8월</option>
                            <option value="03">9월</option>
                            <option value="03">10월</option>
                            <option value="03">11월</option>
                            <option value="03">12월</option>
                        </select>
                        <select id="day-select">
                            <option value="">일자 전체</option>
                        </select>
                        <button id="fetch-branches-btn">조회</button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/js/dashboard/dashboard.js" defer></script>

</div>
</body>
</html>
